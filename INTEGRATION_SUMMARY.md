# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –†–µ–∞–ª–Ω–∏ –ë–∞–∑–∏ –î–∞–Ω–Ω–∏ –∏ API - –†–µ–∑—é–º–µ

## ‚úÖ –ó–∞–≤—ä—Ä—à–µ–Ω–∏ –ó–∞–¥–∞—á–∏

### 1. Dockerfile –¢–µ—Å—Ç
- ‚úÖ Dockerfile –µ –ø—Ä–æ–≤–µ—Ä–µ–Ω –∏ —Ä–∞–±–æ—Ç–∏ –ø—Ä–∞–≤–∏–ª–Ω–æ
- ‚úÖ –í—Å–∏—á–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–∞ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–∏
- ‚úÖ –°–∏—Å—Ç–µ–º–∞—Ç–∞ –µ –≥–æ—Ç–æ–≤–∞ –∑–∞ cloud agents

### 2. API –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ú–æ–¥—É–ª
**–§–∞–π–ª**: `scrapers/bulgarian_financial_apis.py`

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å:
- ‚úÖ BNB (–ë—ä–ª–≥–∞—Ä—Å–∫–∞ –Ω–∞—Ä–æ–¥–Ω–∞ –±–∞–Ω–∫–∞) - —Ä–µ–≥–∏—Å—Ç—ä—Ä –Ω–∞ –±–∞–Ω–∫–∏
- ‚úÖ FSC (–ö–æ–º–∏—Å–∏—è –∑–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤ –Ω–∞–¥–∑–æ—Ä) - –Ω–µ–±–∞–Ω–∫–æ–≤–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∏ –∏–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏
- ‚úÖ –¢—ä—Ä–≥–æ–≤—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—ä—Ä (registryagency.bg)
- ‚úÖ APIS.bg - –¥–∞–Ω–Ω–∏ –∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è
- ‚úÖ –õ–æ–∫–∞–ª–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ (XLS, XLSX, DOC, DOCX)

**–§—É–Ω–∫—Ü–∏–∏**:
- –ü–∞—Ä—Å–≤–∞–Ω–µ –Ω–∞ `.doc`, `.xls`, `.xlsx` —Ñ–∞–π–ª–æ–≤–µ
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–µ–¥—É–ø–ª–∏—Ü–∏—Ä–∞–Ω–µ –ø–æ –ë–£–õ–°–¢–ê–¢
- –û–±–æ–≥–∞—Ç—è–≤–∞–Ω–µ —Å –¥–∞–Ω–Ω–∏ –∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è

### 3. –ò–º–ø–æ—Ä—Ç –°–∫—Ä–∏–ø—Ç
**–§–∞–π–ª**: `import_creditors_from_apis.py`

**–í—ä–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- ‚úÖ –ò–º–ø–æ—Ä—Ç –æ—Ç –≤—Å–∏—á–∫–∏ –∏–∑—Ç–æ—á–Ω–∏—Ü–∏
- ‚úÖ Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞ (100 –∑–∞–ø–∏—Å–∞ –Ω–∞ –±–∞—Ç—á)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±–æ–≥–∞—Ç—è–≤–∞–Ω–µ —Å –Ω–∞—Ä—É—à–µ–Ω–∏—è
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –∏–º–ø–æ—Ä—Ç–∞
- ‚úÖ JSON backup

### 4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω API Endpoint
**–§–∞–π–ª**: `app.py` - `/api/creditors`

**–ù–æ–≤–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏**:
- `limit` - –±—Ä–æ–π –∑–∞–ø–∏—Å–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (default: 50)
- `offset` - –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- `search` - —Ç—ä—Ä—Å–µ–Ω–µ –ø–æ –∏–º–µ –∏–ª–∏ –ë–£–õ–°–¢–ê–¢
- `creditor_type` - —Ñ–∏–ª—Ç—ä—Ä –ø–æ —Ç–∏–ø (bank, non-bank, unknown)
- `min_risk_score` - –º–∏–Ω–∏–º–∞–ª–µ–Ω —Ä–∏—Å–∫ —Å–∫–æ—Ä
- `blacklisted_only` - —Å–∞–º–æ —á–µ—Ä–µ–Ω —Å–ø–∏—Å—ä–∫
- `sort_by` - —Å–æ—Ä—Ç–∏—Ä–∞–Ω–µ (risk_score, name, violations_count)

**–ù–æ–≤ endpoint**: `/api/creditors/sync`
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ –æ—Ç API –∏–∑—Ç–æ—á–Ω–∏—Ü–∏

### 5. –ü–æ–¥–æ–±—Ä–µ–Ω Frontend
**–§–∞–π–ª**: `frontend/src/components/CreditorList.jsx`

**–ù–æ–≤–∏ —Ñ—É–Ω–∫—Ü–∏–∏**:
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è (50 –∑–∞–ø–∏—Å–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
- ‚úÖ –¢—ä—Ä—Å–µ–Ω–µ –ø–æ –∏–º–µ –∏–ª–∏ –ë–£–õ–°–¢–ê–¢
- ‚úÖ –§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ —Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–æ—Ä
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–∞–Ω–µ –ø–æ —Ä–∏—Å–∫ —Å–∫–æ—Ä
- ‚úÖ –ë—É—Ç–æ–Ω –∑–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ
- ‚úÖ –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –æ–±—â –±—Ä–æ–π –∫—Ä–µ–¥–∏—Ç–æ—Ä–∏
- ‚úÖ –ü–æ–¥–æ–±—Ä–µ–Ω UI —Å —Ü–≤–µ—Ç–æ–≤–æ –∫–æ–¥–∏—Ä–∞–Ω–µ –Ω–∞ —Ä–∏—Å–∫ —Å–∫–æ—Ä

**–§–∞–π–ª**: `frontend/src/api/client.js`
- ‚úÖ –û–±–Ω–æ–≤–µ–Ω API –∫–ª–∏–µ–Ω—Ç —Å –ø–æ–¥–¥—Ä—ä–∂–∫–∞ –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
- ‚úÖ –§—É–Ω–∫—Ü–∏—è –∑–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

### 6. –û–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω –§–æ—Ä–º–∞—Ç –Ω–∞ –î–∞–Ω–Ω–∏—Ç–µ

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–∞–Ω —Ñ–æ—Ä–º–∞—Ç**:
```python
{
    'name': str,              # –ò–º–µ –Ω–∞ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ (–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ)
    'type': str,              # 'bank', 'non-bank', 'unknown'
    'bulstat': str,           # –ë–£–õ–°–¢–ê–¢/EIK (9-13 —Ü–∏—Ñ—Ä–∏)
    'license_number': str,    # –ù–æ–º–µ—Ä –Ω–∞ –ª–∏—Ü–µ–Ω–∑
    'address': str,           # –ê–¥—Ä–µ—Å
    'violations_count': int,  # –ë—Ä–æ–π –Ω–∞—Ä—É—à–µ–Ω–∏—è
    'risk_score': float,      # –†–∏—Å–∫ —Å–∫–æ—Ä 0-10
    'is_blacklisted': bool,   # –í —á–µ—Ä–µ–Ω —Å–ø–∏—Å—ä–∫
    'source': str,            # –ò–∑—Ç–æ—á–Ω–∏–∫ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ
    'fetched_at': str,        # ISO timestamp
}
```

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**:
- ‚úÖ –ò–Ω–¥–µ–∫—Å–∏—Ä–∞–Ω–∏ –∑–∞—è–≤–∫–∏ –≤ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏
- ‚úÖ Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–µ–¥—É–ø–ª–∏—Ü–∏—Ä–∞–Ω–µ
- ‚úÖ –ï—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏—è

## üìä –ò–∑—Ç–æ—á–Ω–∏—Ü–∏ –Ω–∞ –î–∞–Ω–Ω–∏

1. **–õ–æ–∫–∞–ª–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ** (`legal data/`):
   - `bs_ci_reg_bankslist_bg.doc` - –°–ø–∏—Å—ä–∫ –Ω–∞ –±–∞–Ω–∫–∏ –æ—Ç –ë–ù–ë
   - `bs_fi_regintro_register_bg.xls` - –†–µ–≥–∏—Å—Ç—ä—Ä –Ω–∞ –Ω–µ–±–∞–Ω–∫–æ–≤–∏ –∏–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏
   - –î—Ä—É–≥–∏ —Ä–µ–≥–∏—Å—Ç—ä—Ä–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ (XLS, XLSX)

2. **–û–Ω–ª–∞–π–Ω API**:
   - BNB register (https://www.bnb.bg)
   - FSC register (https://www.fsc.bg)
   - Trade Register (https://registryagency.bg)
   - APIS.bg (https://www.apis.bg)

## üöÄ –ö–∞–∫ –¥–∞ –ò–∑–ø–æ–ª–∑–≤–∞—Ç–µ

### –ò–º–ø–æ—Ä—Ç –æ—Ç –õ–æ–∫–∞–ª–Ω–∏ –§–∞–π–ª–æ–≤–µ
```bash
python import_creditors_from_apis.py
```

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Ç API (Frontend)
1. –û—Ç–≤–æ—Ä–µ—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞ —Å –∫—Ä–µ–¥–∏—Ç–æ—Ä–∏
2. –ö–ª–∏–∫–Ω–µ—Ç–µ "üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–∞–π –æ—Ç API"
3. –ò–∑—á–∞–∫–∞–π—Ç–µ –∑–∞–≤—ä—Ä—à–≤–∞–Ω–µ –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è—Ç–∞

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Ç API (API)
```bash
POST /api/creditors/sync
```

### –¢—ä—Ä—Å–µ–Ω–µ –∏ –§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ
```
GET /api/creditors?search=–±–∞–Ω–∫–∞&creditor_type=bank&limit=50&offset=0
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç

- **Batch —Ä–∞–∑–º–µ—Ä**: 100 –∑–∞–ø–∏—Å–∞ –Ω–∞ –±–∞—Ç—á
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**: 50 –∑–∞–ø–∏—Å–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- **–ò–Ω–¥–µ–∫—Å–∏**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω–∏ –∑–∞ –±—ä—Ä–∑–æ —Ç—ä—Ä—Å–µ–Ω–µ
- **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–æ –ë–£–õ–°–¢–ê–¢

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü—ä–ª–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `API_INTEGRATION_GUIDE.md`

## ‚ú® –†–µ–∑—É–ª—Ç–∞—Ç

–°–∏—Å—Ç–µ–º–∞—Ç–∞ –≤–µ—á–µ –º–æ–∂–µ –¥–∞:
- ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä–∞ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∏ –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–∑—Ç–æ—á–Ω–∏—Ü–∏
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–∞ –¥–∞–Ω–Ω–∏ –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ
- ‚úÖ –¢—ä—Ä—Å–∏ –∏ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–≤–∞ –≥–æ–ª–µ–º–∏ –æ–±–µ–º–∏ –¥–∞–Ω–Ω–∏
- ‚úÖ –ü–æ–∫–∞–∑–≤–∞ –¥–∞–Ω–Ω–∏ –≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω —Ñ–æ—Ä–º–∞—Ç

–í—Å–∏—á–∫–∏ –¥–∞–Ω–Ω–∏ —Å–∞ –≤ –Ω–∞–π-–¥–æ–±—Ä–∏—è —Ñ–æ—Ä–º–∞—Ç –∑–∞ –±—ä—Ä–∑–∞ –∏ –ª–µ—Å–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç —Å–∏—Å—Ç–µ–º–∞—Ç–∞! üéâ

